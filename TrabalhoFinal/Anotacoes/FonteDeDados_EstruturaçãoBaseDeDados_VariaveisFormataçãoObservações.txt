Estruturação da Base de Dados e seus Relacionamentos 

Primeira Parte

Origem e Destino (OD) 

Link drive https://drive.google.com/drive/folders/1QGKvwb1OBbubuxN8Dt118FeBZYCbPv23

Diretórios
- CSV
    - ZOrigem
    - ZDestino 
    - ZResidencia
    - ZEmprego 
- xlsx
    - ZOrigem
    - ZDestino 
    - ZResidencia
    - ZEmprego 
    - Glossario OD

Arquivos CSV
1° - Criar CSV para cada Tabela de um diretório específico 
E.G 
- ZEmprego/T12.csv

2° - Limpeza de Dados 
- Transformar os valores das variáveis em Porcentagens, exceto total e Zona
E.G 
Domicílios - 20394 (X) 
Domicílios - 58,76% (V) 
- Limpar dados reais com apenas 2 casas decimais (round) 


Arquivos xlsx
1°- Adicionar variáveis ao Glossario 

2°- Criar novas variáveis, reduzindo o tamanho das variáveis (tam max = 10 char e snake_case)

3° - Renomear tabela xlsx original com as variáveis
 
4°
Dados Null ou - substituir por zero inteiro (0)
Variável Total 
- Copiar e Colar no mesmo lugar 
   - Clicar na prancheta 
   - "Selecionar Somente Valores" 

5°- Exportar como .csv padrão 
Separador - "," 



-----------------------------------------------------------------------------

RStudio

Pacote RSQLITE 
- Utilizar DB Temporário



Scripts num geral
1° - Criação do DB Temporário

2° - Importação dos dados

3° 
Manipulação dos dados 
Análise Exploratória
Gráficos 

4° - Exportação dos dados 

5° - Fecha Conexão

Scripts
- Analise Exploratoria (Coeficiente, etc) 
- Manipulação dos dados (Adicionar, deletar, etc) 
- Gráficos (histograma, box-plot, etc) 














-----------------------------------------------------------------------------

Fonte de Dados:

  - IBGE (Censo 2010)
  - OD (Pesquisa_OD_Regiao_Metropolitana_SP_2017)

-----------------------------------------------------------------------------

Base de Dados e Tabelas (DB):

DB = Trabalho_Grupo02 (Base de Dados gerado em SQL)

Tabela_Principal = utilizada para aglutinar todos os dados do Trabalho

Tabela_OD = Dados de OD

Tabela_IBGE = Dados de IBGE


-----------------------------------------------------------------------------
Estruturação Tabelas

Tabela_Principal:
  - Relacionamento de Dados ( Join Tabela_OD e Tabela_IBGE)
    - Setor Censitario OD = Setor Censitario IBGE
    - OD: (Foreign Key = ID_Setor_Censitario)
    - IBGE: (Foreign Key = ID_Setor_Censitario)
    - Filtrar Dados de OD e IBGE pelo Setor_Censitário é composta por Setores Censitários
      - Filtrar Setores Censitários em Zona_OD, ou seja, 
      WHERE ZONA_OD = 1 AND SETOR CENSITARIO = 2
  - Variavel "Zona_OD"
    - Devo Pegar Dados da tabela_IBGE por Setores Censitarios
    - Adicionar Dados da tabela_IBGE e Relacionar com Setores Censitarios em OD
    - Relacionar Dados Setores Censitarios com Zona_OD
    - Utilizar Dados relacionados a Zona_OD
      - Exemplo:
        Zona_OD | Porcentagem_Utilizam_Carros_Nesta_Zona
        Porcentagem_Utilizam_Carros_Nesta_Zona = Dados de Todos os Setores Censitarios desta Zona

Tabela_OD:
  - Filtro variaveis a serem escolhidas de OD (Obrigatorio: Zona e Setores Censitarios)  
  
Tabela_IBGE
  - Filtro variaveis a serem escolhidas de OD (Obrigatório: Setores Censitarios)
  
-----------------------------------------------------------------------------

Variaveis das Tabelas

Principal
  - Zona_OD
  - Proporção_Utilizam_Transporte_Publico
  - Proporção Utilizam_Transporte_Privado
  - Proporção Utilizam_Carro
  
OD
  - Zona
  - Setor Censitario
  - Proporção_Renda_Familiar_Classe_B (Utilizar dados IBGE de classe economica)
  
IBGE
  - Setor Censitario
-----------------------------------------------------------------------------

Formatação dos dados das variaveis:
- Utilizar valores proporcionais ao invés de dados absolutos
  - E.G.
      Total de Tipos de Transporte realizados em uma zona (Ruim)  
      Proporção de Viagens de Carro privado realizados em uma zona (Bom)
      Proporção de Viagens de Transporte Publico realizados em uma zona (Bom)




-----------------------------------------------------------------------------
Observações nas tabelas (Entity)

Principal
  - Cada entity é uma Zona_OD (Composto por Setores Censitarios)
  - Key Principal = ID_Zona_OD

OD
  - Cada entity é uma Zona_OD (Composto por Setores Censitarios)

IBGE
  - Cada entity é um setor censitario

-----------------------------------------------------------------------------



- Utilizar Variaveis como Genero,Raça,Renda entre outros


    
